# HK Options Explorer â€” LSTM + News Sentiment AI POC

A proof-of-concept web application for exploring Hong Kong stock options with AI-powered price prediction and news sentiment analysis.

> **âš ï¸ DISCLAIMER**: This application is a **proof of concept** for educational and research purposes only. It is **NOT financial advice**. Options trading involves significant risk and may not be suitable for all investors. Past performance does not guarantee future results. The predictions generated by the LSTM model and news sentiment analysis are experimental and should not be used as the sole basis for any investment decisions. Always consult with a qualified financial advisor before making investment decisions.

## Live Demo

Deployed on Netlify with automatic deployment from this repository.

**Password**: Required for access (contact the repository owner).

---

## Application Overview

### Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Netlify (Static Site)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Build Pipeline                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ yfinance  â”‚ â†’ â”‚ fetch_news.pyâ”‚ â†’ â”‚  vite build  â”‚     â”‚
â”‚  â”‚ (pip)     â”‚   â”‚ (64 stocks)  â”‚   â”‚ (bundle app) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Browser (Static Files)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Chart.js  â”‚   â”‚ TensorFlow.jsâ”‚   â”‚  Sentiment   â”‚     â”‚
â”‚  â”‚ (Charts)  â”‚   â”‚ (LSTM Model) â”‚   â”‚  (Lexicon)   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚       Pre-built JSON Data (DTOP + News)          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow

1. **HKEX DTOP Data** â†’ Raw `.raw` files parsed by `build_data.js` â†’ 145 stock JSON files (80.8 MB)
2. **Yahoo Finance News** â†’ Fetched by `fetch_news.py` (yfinance) at build time â†’ 64 stock news JSON files
3. **Browser** loads pre-built JSON, runs LSTM training in-browser, performs lexicon-based sentiment analysis

---

## Features (5 Tabs)

### ðŸ“Š Dashboard
- Market overview with 145 HK stock classes
- Top stocks ranked by total open interest
- Aggregate call/put OI statistics

### â›“ï¸ Options Chain
- Full options chain viewer with call/put data side by side
- Settlement prices, OI, volume, and price changes
- Filter by stock, date, and expiry

### ðŸŽ¯ Strategy Builder
- 7 option strategies: Covered Call, Protective Put, Collar, Bull/Bear Spreads, Straddle, Strangle
- Interactive payoff diagrams
- Risk metrics (max profit/loss, breakevens)
- Aggregated Greeks (Delta, Gamma, Theta, Vega)

### ðŸ“ˆ Trend Analysis
- Settlement price history over 48 trading days
- Open interest evolution and volume analysis
- Put/Call ratio tracking

### ðŸ¤– AI Prediction (LSTM + News Sentiment)

Two prediction models run **in parallel**:

| Model | Type | Speed | Input |
|-------|------|-------|-------|
| **LSTM** | TensorFlow.js neural network | ~17s training | 48 days of settlement prices |
| **News Sentiment** | Lexicon-based keyword scoring | Instant | Yahoo Finance headlines |

**LSTM Details:**
- Architecture: `LSTM(32) â†’ Dense(16) â†’ Dense(1)`
- Lookback window: 10 days (configurable)
- Forecast horizon: 5 days (configurable)
- Training: 50 epochs (configurable)

**News Sentiment:**
- Bullish/bearish financial keyword dictionary with weights
- Per-article scoring with color-coded sentiment dots
- Aggregate signal with confidence percentage

**Combined Signal:**
- 60% LSTM weight + 40% News weight
- Automatic strategy recommendation based on prediction direction

---

## Tech Stack

| Component | Technology |
|-----------|-----------|
| **Frontend** | Vanilla JS + Vite |
| **Styling** | Custom CSS (dark glassmorphism theme) |
| **Charts** | Chart.js 4.x |
| **ML** | TensorFlow.js (in-browser LSTM) |
| **News** | yfinance (build-time Python) |
| **Deployment** | Netlify (static site) |
| **Data** | HKEX DTOP settlement reports |

---

## Project Structure

```
â”œâ”€â”€ index.html              # Main HTML with password gate
â”œâ”€â”€ netlify.toml             # Netlify build configuration
â”œâ”€â”€ package.json             # Node.js dependencies
â”œâ”€â”€ vite.config.js           # Vite bundler configuration
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.js              # Application entry point
â”‚   â”œâ”€â”€ index.css            # Full design system (glassmorphism theme)
â”‚   â”œâ”€â”€ data.js              # Data layer (fetch + cache JSON)
â”‚   â”œâ”€â”€ charts.js            # Chart.js wrapper functions
â”‚   â”œâ”€â”€ blackscholes.js      # Black-Scholes pricing model + Greeks
â”‚   â”œâ”€â”€ strategies.js        # Option strategy definitions + payoff calculator
â”‚   â”œâ”€â”€ lstm.js              # TensorFlow.js LSTM model (train + forecast)
â”‚   â””â”€â”€ sentiment.js         # Lexicon-based news sentiment analysis
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ build_data.js        # DTOP .raw â†’ JSON data pipeline
â”‚   â”œâ”€â”€ fetch_news.py        # yfinance news fetcher (runs at build time)
â”‚   â””â”€â”€ tickers.json         # Stock code â†’ Yahoo Finance ticker mapping
â”‚
â””â”€â”€ public/data/
    â”œâ”€â”€ index.json           # Stock metadata + dates
    â”œâ”€â”€ summary.json         # Daily market summary
    â”œâ”€â”€ {STOCK}.json         # Per-stock options data (145 files)
    â””â”€â”€ news/
        â”œâ”€â”€ index.json       # News fetch metadata
        â””â”€â”€ {STOCK}.json     # Per-stock news articles (64 files)
```

---

## Local Development

```bash
# Install dependencies
npm install

# Run dev server
npm run dev

# Build for production
npm run build

# Fetch fresh news data (requires Python 3 + yfinance)
npm run build:news

# Full build (news + vite)
npm run build:full
```

## Netlify Deployment

The `netlify.toml` is pre-configured:

```toml
[build]
  command = "pip install yfinance -q && python3 scripts/fetch_news.py && npx vite build"
  publish = "dist"
```

Connect this repository to Netlify for automatic deployment. On each build, Netlify will:
1. Install yfinance via pip
2. Fetch latest news from Yahoo Finance for all 64 mapped stocks
3. Build the Vite production bundle
4. Deploy `dist/` as a static site

### Data Refresh

- **DTOP Data**: Pre-built and committed to the repository (Dec 2025 â€“ Feb 2026)
- **News Data**: Refreshed on every Netlify build via `fetch_news.py`

---

## Data Source

All options data sourced from **HKEX DTOP (Daily Trading Overview of Products)** reports:
- **Period**: December 1, 2025 â€“ February 9, 2026 (48 trading days)
- **Coverage**: 145 stock option classes
- **Fields**: Open Interest, Volume, Settlement Price, Price Changes
- **Source**: Hong Kong Exchanges and Clearing Limited (HKEX)

---

## License

This project is for educational and research purposes only. Not for commercial use.

---

> **Reminder**: This is a proof of concept. Predictions are experimental. Do not trade based solely on this tool's output. Always do your own research and consult a financial professional.
